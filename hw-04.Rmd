---
title: "HW 04 - What should I major in?"
author: "Shirisha Biyyala"
date: "2024-09-30"
output: github_document
---

## Load packages and data

```{r load-packages, message = FALSE}
library(tidyverse)
library(scales)
library(fivethirtyeight)
```

```{r understand-data}
#glimpse(college_recent_grads)
#?college_recent_grads
#view(college_recent_grads)
```

```{r college_recent_grads_head, echo=FALSE, results='asis'}
# Get the head of the dataset
college_recent_grads_head <- head(college_recent_grads)

# Create an HTML table
html_table <- knitr::kable(college_recent_grads_head, format = "html", escape = FALSE)

# Print the scrollable table
cat(paste0(
  "<div style='overflow-x: auto; max-width: 100%; height: 300px;'>",
  html_table,
  "</div>"
))
```

## Exercises

### Exercise 1

In this code chunk, we will:

- Arrange the data by the proportion of women (sharewomen) in descending order,highlighting majors with the highest proportion of women at the top.
- Select only the relevant columns: major, total (the number of people with that major),and sharewomen (the proportion of women).
- Display only the top 3 majors by using top_n(3).

```{r top_n_major}
college_recent_grads %>%
  arrange(desc(sharewomen)) %>% 
  select(major, total, sharewomen) %>%
  top_n(3)
```


### Exercise 2

In this code chunk, we will:

- **Visualize Median Income Distribution:** Create a histogram to illustrate how median incomes are distributed among recent graduates by major.
  
- **Select Binwidth:** Use a binwidth of $1000 to capture meaningful variations in income without excessive detail.

- **Analyze Distribution Characteristics:** Examine the histogram to identify patterns, skewness, and potential outliers in the income data.

```{r histogram-visualization}
ggplot(data = college_recent_grads, mapping = aes(x = median)) +
  geom_histogram() +
  theme_minimal()


# Create histogram with a binwidth of $1000
ggplot(data = college_recent_grads, mapping = aes(x = median)) +
  geom_histogram(binwidth = 1000, fill = "lightblue") +
  labs(title = "Distribution of Median Incomes (Binwidth = $1000)",
       x = "Median Income",
       y = "Count") +
  theme_minimal()

# Create histogram with a binwidth of $5000
ggplot(data = college_recent_grads, mapping = aes(x = median)) +
  geom_histogram(binwidth = 5000, fill = "rosybrown") +
  labs(title = "Distribution of Median Incomes (Binwidth = $5000)",
       x = "Median Income",
       y = "Count") +
  theme_minimal()
```

#### Interpretation
Both histograms will illustrate the distribution of median incomes effectively, but the choice of binwidth impacts the level of detail visible. The $1,000 binwidth allows for a more granular analysis, which can help identify clusters of income levels, while the $5,000 binwidth provides a clearer overview of income distribution trends without getting bogged down in too much detail.


### Exercise 3

```{r summary-statistics}
summary_stats <- college_recent_grads %>%
  summarise(min = min(median), max = max(median),
            mean = mean(median), med = median(median),
            sd = sd(median), 
            q1 = quantile(median, probs = 0.25),
            q3 = quantile(median, probs = 0.75))

summary_stats
```

#### Interpretation

Given the income statistics, it is essential to highlight that the median income (36,000) is significantly lower than the mean (40,151.45), indicating a right-skewed distribution where a few graduates earn much higher incomes, pulling the average up. The quartiles (Q1 and Q3) further emphasize the spread, with the interquartile range (IQR) between $33,000 and $45,000, suggesting that the middle 50% of graduates earn within this range.

This analysis helps in understanding how the distribution of median incomes varies across different categories and highlights the necessity of using both visual and statistical methods to capture the nuances of income data.


### Exercise 4

### Histogram Shape and Summary Statistics

#### Shape
The histograms reveal a **right-skewed** distribution of median incomes, indicating that most graduates earn lower to moderate incomes, while a few high earners significantly influence the overall average.

#### Center
- **Median**: $36,000, providing a reliable measure of typical income.
- **Mean**: $40,151.45, higher than the median due to outliers.

#### Spread
- **Standard Deviation**: $11,470.18, indicating moderate variability in incomes.
- **Interquartile Range (IQR)**: $12,000 (Q1: $33,000, Q3: $45,000), showing that the middle 50% of graduates earn within this range.

#### Unusual Observations
- **Outliers**: A maximum income of $110,000 highlights significant income disparity.
- **Range**: Incomes range from $22,000 to $110,000.

### Summary Statistics Output

```{r summary-statistics-table}
# Display summary statistics as a table
knitr::kable(summary_stats, format = "html", caption = "Summary Statistics for Median Incomes")
```


#### Conclusion
The median and IQR are the most useful statistics for understanding this right-skewed income distribution, revealing a typical income of $36,000 and a significant range in earnings among graduates.

### Exercise 5

### Faceted Histogram of Median Income

In this code chunk, we will:

- Plot the distribution of median income using a histogram, allowing us to visualize how median income varies across different major categories.
- Use a binwidth of $5000, which was determined to be appropriate in the previous exercise.
- Facet the histogram by `major_category`, providing a clear comparison of income distributions for each category.

This visualization helps in understanding the disparities in median income among various fields of study, highlighting trends and differences effectively.

```{r faceted-histogram}
# Create faceted histogram of median income by major_category
ggplot(data = college_recent_grads, mapping = aes(x = median)) +
  geom_histogram(binwidth = 5000, fill = "lightblue") +
  labs(title = "Distribution of Median Income by Major Category",
       x = "Median Income",
       y = "Count") +
  facet_wrap(~ major_category) +
  theme_minimal()
```


### Exercise 6

...

### Exercise 7

...

### Exercise 8

...

### Exercise 9

...

### Exercise 10

...
